{% extends "layout.html" %}

{% block content %}
<h2>Practice Your Posture</h2>

<!-- Simplified instructions -->
<p>Use your camera to get real-time feedback on your posture. Click 'Start Practice' when ready.</p>

{# --- Main Content Area (Video, Feedback etc.) --- #}
<div class="practice-main-area">
    <div id="video-container" style="position: relative; width: 640px; height: 480px; margin: 20px auto; border: 1px solid #ccc;">
        <video id="video" playsinline style="transform: scaleX(-1); width: 100%; height: 100%; object-fit: cover;"></video>
        <canvas id="overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></canvas>
    </div>
    <div id="feedback" class="mt-3 text-center" style="font-size: 1.2em; min-height: 1.5em;">Waiting to start...</div>
</div>

{# --- Container for Start Practice Button --- #}
<div class="start-practice-container mt-4"> {# Added margin-top for spacing #}
    <button id="start-button" class="btn btn-primary">Start Practice</button>
</div>

{# --- Container for Bottom Navigation Buttons --- #}
<div class="bottom-nav-controls mt-5"> {# Added more margin-top for spacing #}
    {# Previous Button - Links to last lesson #}
    <a href="{{ url_for('learn', lesson_number='5') }}" class="btn btn-secondary btn-previous">&laquo; Previous</a>

    {# Return Home Button - Stays on the right #}
    <a href="{{ url_for('homepage') }}" class="btn btn-secondary btn-return-home">Return Home &raquo;</a> {# Kept >> arrow #}
</div>
{# --- End of Bottom Button Container --- #}


<!-- Load the script last -->
<script src="{{ url_for('static', filename='scripts.js') }}"></script>
{% endblock %}

{% extends "layout.html" %}

{% block content %}
<div class="container mt-4">
    <h2 id="lesson_title">Choose Practice Duration</h2>
    
    <div class="text-center mb-4">
        <p class="lead">Select how long you want to practice your posture:</p>
    </div>
    
    <!-- Timer Selection Options -->
    <div class="timer-selection">
        <div class="timer-option" data-seconds="120">2 min</div>
        <div class="timer-option" data-seconds="240">4 min</div>
        <div class="timer-option" data-seconds="360">6 min</div>
        <div class="timer-option" data-seconds="480">8 min</div>
        <div class="timer-option" data-seconds="600">10 min</div>
        <div class="timer-option" data-seconds="900">15 min</div>
        <div class="timer-option" data-seconds="1200">20 min</div>
        <div class="timer-option" data-seconds="0">No Limit</div>
    </div>
    
    <!-- Hidden form to submit the selection -->
    <form action="{{ url_for('start_countdown') }}" method="post" class="text-center mt-5">
        <input type="hidden" id="selected-timer" name="practice_duration_seconds" value="">
        <input type="hidden" name="practice_focus" value="{{ session.get('practice_focus', 'all') }}">
        <button type="submit" id="continue-button" class="btn btn-primary btn-lg" disabled>Continue</button>
    </form>
    
    <!-- Information Card -->
    <div class="card mt-5">
        <div class="card-header bg-light">
            <h5 class="mb-0">About Practice Duration</h5>
        </div>
        <div class="card-body">
            <p>Longer practice sessions allow more time for your body to adjust and find optimal alignment. Here are some guidelines:</p>
            <ul>
                <li><strong>2-4 minutes</strong>: Quick check-in for daily practice</li>
                <li><strong>6-10 minutes</strong>: Standard practice length to develop awareness</li>
                <li><strong>15-20 minutes</strong>: Extended practice for deeper postural training</li>
                <li><strong>No limit</strong>: Practice at your own pace, end when you're ready</li>
            </ul>
            <p class="mb-0">All sessions include real-time feedback and a complete assessment at the end.</p>
        </div>
    </div>
    
    <!-- Navigation Buttons -->
    <div class="d-flex justify-content-between mt-5 pt-3 border-top">
        {% if session.get('in_learning_flow') %}
            <a href="{{ url_for('learn', lesson_number='5') }}" class="btn btn-secondary">&laquo; Back to Learning</a>
        {% else %}
            <a href="{{ url_for('homepage') }}" class="btn btn-secondary">&laquo; Back to Home</a>
        {% endif %}
    </div>
</div>

<!-- Load the script last -->
<script src="{{ url_for('static', filename='scripts.js') }}"></script>
{% endblock %}
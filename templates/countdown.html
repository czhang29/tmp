{% extends "layout.html" %}

{% block content %}
<div id="fullscreen-countdown" class="fullscreen-countdown">
    <div class="countdown-number" id="countdown-number">5</div>
    <div class="countdown-text">Get Ready!</div>
    <div class="countdown-text">We'll notify you when there's a posture misalignment.</div>
    
    <!-- Hidden redirect information -->
    <input type="hidden" id="redirect-url" value="{{ redirect_url }}">
</div>

<!-- Load the script for countdown -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const countdownElement = document.getElementById('countdown-number');
        const redirectUrl = document.getElementById('redirect-url').value;
        let seconds = 5;
        
        countdownElement.textContent = seconds;
        
        const countdownInterval = setInterval(() => {
            seconds--;
            
            if (seconds <= 0) {
                clearInterval(countdownInterval);
                window.location.href = redirectUrl;
            } else {
                countdownElement.textContent = seconds;
            }
        }, 1000);
    });
</script>

<script src="{{ url_for('static', filename='timer-countdown.js') }}"></script>
{% endblock %}